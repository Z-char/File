#### min-max 容斥

##### 结论：

$$
\max(s) = \sum_{t \subseteq s} (-1)^{|t| - 1} \min(T) \\
\min(s) = \sum_{t \subseteq s} (-1)^{|t| - 1} \max(T) \\
$$

第一次听说这个东西的时候感觉很弱智，因为为什么我不直接求 $\min, \max$ 反而借助一个指数级别的东西求呢？

由于这是 `Probability theory` 随笔，所以不难想到 min-max 容斥在期望意义下也成立：
$$
E(\max(s)) = \sum_{t \subseteq s} (-1)^{|t| - 1} E(\min(T)) \\
E(\min(s)) = \sum_{t \subseteq s} (-1)^{|t| - 1} E(\max(T)) \\
$$
而期望的 min-max 并不好求，不过有的时候 min 不好求得时候 max 比较好求，这时候就需要借助 min-max 容斥来处理了。

##### 扩展：

如果我们希望求 kth 呢？

还是考虑容斥，设出容斥系数：
$$
kthmax(s) = \sum_{t\subseteq s} F(|t|) \min(t)
$$
不妨设 $s$ 集合已经排好序了，那么考虑一个元素 $a_i$，他被贡献的次数。

一个元素被贡献，当且仅当它是集合里最小的元素，那么对于 $i$，前面 $i - 1$ 个元素任选，后面不可选，这样的集合 $t$ 可以贡献给自己，那么枚举集合大小，并依据柿子有：
$$
cnt(i) = \sum_{j=1}^{i-1} F(j + 1) \binom{i - 1}{j}
$$
因为求的是 $kthmax$，所以要有 $cnt(i) = [i = k]$。

上面的柿子看起来比较二项式反演，不过上指标没到 $i$，我们可以改写成要求：
$$
\sum_{j=1}^i F(j + 1)\binom{i}{j} = [i = k - 1]
$$
那么二项式反演得到：
$$
F(j + 1) = \sum_{i\le j} (-1)^{j-i} \binom{j}{i} [i = k - 1] = (-1)^{j-k+1}\binom{j}{k-1}
$$
所以：
$$
F(j) = (-1)^{j - k} \binom{j - 1}{k - 1}
$$
那么：
$$
kthmax(s) = \sum_{t\subseteq s} (-1)^{|t|-k}\binom{|t|-1}{k-1} \min(t)
$$
$kthmin$ 的反演和其完全对称。

代入 $k = 1$，我们就得到了一开始的 min-max 容斥。

更为厉害的，$kth$ 反演在期望意义下仍然成立。

#### 连续型随机变量

##### 概率密度函数

令 $X$ 为一随机变量，若存在一非负实函数 $f(x)$，满足对于任意实数 $a \lt b$，有：
$$
P(a \le X \lt b) = \int_a^b f(x) \dd x
$$
则称 $f(x)$ 为 $X$ 的概率密度函数。

##### 概率分布函数

$$
F(x) = \int_{-\infin}^x f(t) \dd t
$$

##### 关系

不难发现，概率分布函数是概率密度函数的积分。

